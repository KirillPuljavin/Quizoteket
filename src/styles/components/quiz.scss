// File: src/styles/components/quiz.scss
@use "../theme/bundler" as *;

.quiz {
  @extend .flex-col;
  max-width: 720px;
  margin: 0 auto;
  padding: $space-8;
  gap: $space-8;

  /* === Loading Screen === */
  &__loading {
    @extend .flex-col;
    @extend .flex-center;
    gap: $space-4;
    text-align: center;
  }

  &__spinner {
    width: 60px;
    height: 60px;
    border: 5px solid $color-border;
    border-top: 5px solid $color-primary;
    border-radius: 50%;
    animation: spin 1s linear infinite;
  }

  &__loading-text {
    font-size: $font-size-md;
    font-weight: 600;
    color: $color-dark;
  }

  /* === Header === */
  &__header {
    text-align: center;

    .quiz__title {
      font-size: $font-size-xl;
      font-weight: 800;
      color: $color-primary;
    }

    .quiz__description {
      font-size: $font-size-sm;
      color: $color-muted;
      margin-top: $space-2;
    }

    .quiz__meta {
      @extend .flex-center;
      gap: $space-4;
      margin-top: $space-2;

      .quiz__progress {
        font-weight: 600;
        color: $color-muted;
      }

      .quiz__timer {
        font-weight: 700;
        color: $color-accent;
      }
    }
  }

  /* === Question Block === */
  &__question-block {
    @extend .card;

    .quiz__question {
      font-size: $font-size-lg;
      font-weight: 600;
      margin-bottom: $space-4;
    }
  }

  &__options {
    @extend .flex-col;
    gap: $space-3;
  }

  /* === Results Overview === */
  &__results {
    text-align: center;

    .quiz__results-title {
      font-size: $font-size-xl;
      font-weight: 700;
      color: $color-primary;
    }

    .quiz__results-subtitle {
      font-size: $font-size-md;
      margin-top: $space-2;
      color: $color-dark;
    }
  }

  /* === Detailed Review === */
  &__review {
    @extend .flex-col;
    gap: $space-4;
    margin-top: $space-6;
    text-align: left;
  }

  &__review-item {
    @extend .card;
    padding: $space-4;

    &--correct {
      border-color: $color-success;
    }
    &--wrong {
      border-color: $color-error;
    }
  }

  &__review-question {
    font-weight: 600;
    margin-bottom: $space-2;
  }

  &__review-options {
    list-style: none;
    padding: 0;
    margin: 0;
    @extend .flex-col;
    gap: $space-2;
  }

  &__review-option {
    padding: $space-2 $space-3;
    border-radius: $radius-sm;

    &--correct {
      background-color: rgba($color-success, 0.12);
      color: $color-success;
      font-weight: 600;
    }

    &--chosen-wrong {
      background-color: rgba($color-error, 0.12);
      color: $color-error;
      font-weight: 600;
    }
  }

  /* === Results Actions === */
  &__results-actions {
    margin-top: $space-6;
    @extend .flex-center;
    gap: $space-4;
  }
}

/* === Animations === */
@keyframes spin {
  0% {
    transform: rotate(0);
  }
  100% {
    transform: rotate(360deg);
  }
}
